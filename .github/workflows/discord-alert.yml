name: Discord Alert

# ë¦¬ë·° ìš”ì²­, ë¦¬ë·° ì‹œ ë°œë™
on:
  pull_request:
    types: [ review_requested ]
  pull_request_review:
    types: [ submitted ]

jobs:
  notify:
    name: ì•Œë¦¼ë³´ë‚´ê¸°
    runs-on: ubuntu-latest
    steps:
      - name: ë¦¬ë·° ìš”ì²­ ì•Œë¦¼
        if: github.event.action == 'review_requested'
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        with:
          args: |
            ğŸ“¢ **ë¦¬ë·° ìš”ì²­ì´ ë„ì°©í–ˆìŠµë‹ˆë‹¤!**
            
            ğŸ™‡â€â™‚ï¸ï¸ **ì‘ì„±ì:** {{ EVENT_PAYLOAD.sender.login }}
            ğŸ¯ **ë¦¬ë·°ì–´:** {{ EVENT_PAYLOAD.requested_reviewer.login }}
            
            ğŸ“‚ **PRëª…:** {{ EVENT_PAYLOAD.pull_request.title }}
            ğŸ”— [ë°”ë¡œê°€ê¸°](<{{ EVENT_PAYLOAD.pull_request.html_url }}>)

      - name: ë¦¬ë·° ì™„ë£Œ ì•Œë¦¼
        if: github.event_name == 'pull_request_review'
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        with:
          args: |
            âœ… **ë¦¬ë·°ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!**
            
            ğŸ™‡â€â™‚ï¸ **ë¦¬ë·°ì–´:** {{ EVENT_PAYLOAD.sender.login }}
            ğŸ¯ **ì‘ì„±ì:** {{ EVENT_PAYLOAD.pull_request.user.login }}
            
            ğŸ“ **ìƒíƒœ:** {{ EVENT_PAYLOAD.review.state }}
            ğŸ“‚ **PRëª…:** {{ EVENT_PAYLOAD.pull_request.title }}
            ğŸ”— [ë°”ë¡œê°€ê¸°](<{{ EVENT_PAYLOAD.review.html_url }}>)
